# Spring-Core-Basic
인프런 - 스프링 핵심 원리 강의

## 섹션 3 전체 흐름 정리

* 새로운 할인 정책 개발: 다형성 덕분에 추가 개발하는 것은 문제 없음
* 문제점:
  - 새로운 정책을 적용하려면 **클라이언트 코드**인 주문 서비스 구현체도 변경 필요 -> OCP 위반
  - 클라이언트가 인터페이스 뿐 만 아니라 구체 클래스도 함께 의존했기 때문 -> DIP 위반
  - 클라이언트인 주문 서비스 구현체가 너무 많은 역할을 함
 
* 해결: 관심사 분리
  - 기존에는 클라이언트가 서버 구현 객체를 직접 생성하고 실행(남자 주인공이 공연도하고 여자 주인공도 캐스팅하는 역할 모두 함)
  - 공연 구성, 배우 섭외 및 지정하는 책임자가 필요 -> **AppConfig**: 애플리케이션의 구성을 담당, 구현객체를 생성하고 연결하는 책임
  - 이제는 클라이언트 객체가 자신의 역할을 실행하는 것에만 집중, 권한 축소 -> 첵임 명확
 
* AppConfig 리팩토링
  - 구성 정보에서 역할과 구현 명확하게 분리
  - 중복 제거
 
* 새로운 구조와 할인 정책 적용
  - AppConfig를 통해 **사용 영역**과 **구성 영역**으로 분리
  - 할인 정책이 변경되어도 구성 영역만 변경됨
 
- - -

### 좋은 객체 지향 설계 5가지 원칙 적용
이 중 3가지 적용됨

* SRP 단일 책임 원칙
  - 클라이언트 객체가 너무 많은 역할을 함
  - 구현 정보는 AppConfig에서 담당, 클라이언트 객체는 실행하는 담당
 
* DIP 의존관계 역전 원칙
  - 기존 클라이언트 코드는 추상 인터페이스(DiscountPolicy)와 구체화 구현 클래스(FixDiscountPolicy)에도 의존하고 있었음
  - 클라이언트는 추상화 인터페이스에만 의존하도록 변경, AppConfig가 객체 인스턴스(FixDiscountPolicy)를 대신 생성하여 클라이언트 코드에 의존관계 주입
 
* OCP
  - 애플리케이션을 사용영역과 구성영역으로 나눔
  - Appconfig에서 FixDiscountPolicy -> RateDiscountPolicy로 변경하기 때문에 클라이언트 코드는 변경되지 않음
  - **소프트웨어 요소를 새롭게 확장해도 사용 영역의 변경은 닫혀 있다.**







