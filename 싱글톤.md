# 싱글톤

### 웹 애플리케이션과 싱글톤
웹 애플리케이션은 보통 여러 고객이 동시에 요청

순수한 DI 컨테이너인 AppConfig는 요청할 때마다 객체를 새로 생성  
-> 메모리 낭비 증가  
-> 해당 객체가 딱 1개 생성하고 이를 공유하도록 설계하면 됨 => **싱글톤 패턴**

### 싱글톤 패턴
클래스 인스턴스가 딱 하나만 생성되는 것을 보장하는 디자인 패턴  
-> 같은 객체 인스턴스를 2개 이상만 생성하지 못하도록 막아야 함

[문제점]
- 싱글톤 패턴을 구현하는 코드 자체가 많이 들어감
- 의존관계상 클라이언트가 구체 클래스에 의존해야 함 -> DIP 위반, OCP 위반 가능성 증가
- 테스트 하기 어려움
- 내부 속성을 변경하거나 초기화 하기 어려움
- private 생성자 사용으로 자식 클래스 생성 어려움
- 유연성 떨어짐

스프링이 싱글톤 패턴의 단점을 제거해줌!!

### 싱글톤 컨테이너
- 스프링 컨테이너는 싱글톤 패턴을 적용하지 않아도 객체 인스턴스를 싱글톤으로 관리
- 스프링 컨테이너는 싱글톤 컨테이너 역할을 함, 싱글톤 객체를 생성하고 관리하는 기능 = 싱글톤 레지스트리
- 싱글톤 패턴의 모든 단점 해결, 객체를 싱글톤으로 유지 가능
  - 싱글톤 패턴을 위한 복잡한 코드 필요 x
  - DIP, OCP, 테스트, private 생성자로부터 자유로움
